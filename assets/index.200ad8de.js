import{p as e,a as t,r as a,u as o,w as l,b as s,o as n,c as u,d as r,e as m,t as i,f as c,F as d,g as v,h as g,i as p,R as w,j as h,k as y,l as f,v as D,m as V,n as x,q as M,s as b,H as S}from"./vendor.b827e7a0.js";const T={isleap:e=>e%4==0&&e%100!=0||e%400==0&&e%3200!=0||e%172800==0,pushDate:(e,t)=>(e[0]=t.getFullYear(),e[1]=t.getMonth()+1,e[2]=t.getDate(),e[1]=e[1]<10?"0"+e[1]:e[1],e[2]=e[2]<10?"0"+e[2]:e[2],e),getWorkDay(e){var t=[],a=[],o=new Date;t=T.pushDate(t,o);for(var l=new Date(t[0],t[1],0).getDate(),s=1;s<l;s++){var n=new Date(t[0],t[1]-1,s),u=n.getDay();0===u&&(u=7),u<=e&&(console.log("工作日",u),T.pushDate(t,n),a.push(t.join("-")))}return a},getScoends(e,t){var a=new Date(e),o=new Date(t);return parseInt(o-a)/1e3},getNowdate(){var e=new Date;let t=T.pushDate([],e);console.log(t)},format(e){const t=new Date;var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[o]:("00"+a[o]).substr((""+a[o]).length)));return e}};const _=v();e("data-v-8681452a");const k={class:"bg"},N={key:0},I=g("下班"),F={key:1},R=r("span",null," 目标达成了！要不要加班！",-1),j={class:"dialog-footer"},E=g("下班"),U=g("加班");t();const C={props:{max:String,now:String},setup(e){const t=e,v=a({max:t.max,now:t.now,showView:!1,feactureNum:"",overnum:0,showoverView:!0,msg:"今天的还要继续加油噢！",type:!0}),g=o();let p=!1;function w(e,a){v.showView=!1,e?(a>=t.max?(a==t.max?v.msg="今天的工作目标已经达成了噢！":v.msg="今天的工作目标已经超预期了呀！",v.overnum=a,localStorage.setItem("overnum",a)):(v.msg="今天的工作目标已经达成了噢！",v.overnum=v.max,localStorage.setItem("overnum",v.overnum)),localStorage.setItem("day",(new Date).getDate()),v.showoverView=!0):(v.msg="今天的工作目标已经超预期了呀！",v.showoverView=!1)}return l((()=>{let e=localStorage.getItem("day"),t=localStorage.getItem("overnum");if(t&&e==(new Date).getDate())v.now=Number(g.state.feactureNum/v.max*100).toFixed(3)+"%",v.overnum=t,v.showoverView=!0,w(!0,t);else{let e=Number(g.state.feactureNum/v.max*100).toFixed(3);v.feactureNum=g.state.feactureNum,v.now=Number(g.state.feactureNum/v.max*100).toFixed(3)+"%",v.overnum=v.feactureNum,e>=100&&v.type&&(v.showView=!0,v.type=!1)}})),(e,t)=>{const a=s("el-button"),o=s("el-dialog");return n(),u(d,null,[r("div",k,[r("div",{class:"aitjd",style:{width:m(v).now}},null,4),0==m(v).showoverView?(n(),u("div",N,[r("p",null,"加班辛苦！赚了"+i(m(v).feactureNum)+"元",1),r("code",null,i(m(v).msg),1),r(a,{onClick:t[1]||(t[1]=e=>w(!0,m(v).feactureNum))},{default:_((()=>[I])),_:1})])):c("",!0),m(v).showoverView?(n(),u("div",F,[r("p",null,"赚了"+i(m(v).overnum)+"元",1),r("code",null,i(m(v).msg),1)])):c("",!0)]),r(o,{title:"加班提示框",modelValue:m(v).showView,"onUpdate:modelValue":t[4]||(t[4]=e=>m(v).showView=e),"close-on-click-modal":m(p),"show-close":m(p),"close-on-press-escape":m(p),width:"30%"},{footer:_((()=>[r("span",j,[r(a,{onClick:t[2]||(t[2]=e=>w(!0))},{default:_((()=>[E])),_:1}),r(a,{type:"primary",onClick:t[3]||(t[3]=e=>w(!1))},{default:_((()=>[U])),_:1})])])),default:_((()=>[R])),_:1},8,["modelValue","close-on-click-modal","show-close","close-on-press-escape"])],64)}},__scopeId:"data-v-8681452a"};e("data-v-89f71f06");const Y={key:0};t();const $={props:{propsVal:Object},setup(e){const t=e,l=a({showView:!1,ondDayMoney:"",pastSecondsMoney:"",futureMoney:""}),s=o();return p().expose({change:()=>{let e=t.propsVal,a=T.getWorkDay(e.workDays);l.ondDayMoney=(e.monthMoney/a.length).toFixed(0);const o=T.getScoends(e.startTime,e.overTime),n=(l.ondDayMoney/o).toFixed(4);l.showView=!0;let u=new Date(localStorage.getItem("startTime"));if(u.getDate()==(new Date).getDate()&&Date.parse(new Date)<Date.parse(u))return w.alert("今天的上班时间还没到噢！","小提示",{confirmButtonText:"确定"}),!1;setInterval((()=>{const t=T.format("yyyy/MM/dd hh:mm:ss"),a=T.getScoends(e.startTime,t);l.pastSecondsMoney=(a*n).toFixed(3),l.futureMoney=(Number(l.pastSecondsMoney)+Number(n)).toFixed(3),s.dispatch("increment",l.futureMoney)}),1040)}}),(e,t)=>m(l).showView?(n(),u("div",Y,[g(" 加油今天的目标是"+i(m(l).ondDayMoney)+"元！ ",1),r(C,{max:m(l).ondDayMoney},null,8,["max"])])):c("",!0)},__scopeId:"data-v-89f71f06"};const q=r("img",{alt:"Vue logo",src:"./assets/logo.03d6d6da.png"},null,-1),B=r("div",null,"数据全部本地缓存，不涉及服务传输，请放心使用～～",-1),H={class:"selectBox"},W=g("生成查看"),O={setup(e){const t=h({startTime:"",overTime:"",workDays:"",monthMoney:""}),o=a({showView:!0,gonext:!0});let l=[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"0",label:"7"}];const i=h(null),c=()=>{for(let e in t._value){if("null"==t._value[e])return alert("填完问题才可以生成噢"),!1;localStorage.setItem(e,t._value[e])}i.value.change(),o.showView=!o.showView};return y((()=>{if((()=>{for(let e in t._value)null!=localStorage.getItem(e)?t._value[e]=localStorage.getItem(e):o.gonext=!1})(),o.gonext){let e=new Date,a={statTime:new Date(t._value.startTime),oveTime:new Date(t._value.overTime)},o=e.getFullYear(),l=e.getMonth(),s=e.getDate();for(let t in a)a[t].setFullYear(o),a[t].setMonth(l),a[t].setDate(s);t._value.startTime=a.statTime,t._value.overTime=a.oveTime,c()}})),(e,a)=>{const v=s("el-time-picker"),g=s("el-option"),p=s("el-select"),w=s("el-input"),h=s("el-button");return n(),u(d,null,[q,B,r($,{ref:i,propsVal:t.value},null,8,["propsVal"]),f(r("div",H,[r(v,{modelValue:t.value.startTime,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value.startTime=e),placeholder:"工作开始时间"},null,8,["modelValue"]),r(v,{modelValue:t.value.overTime,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value.overTime=e),placeholder:"工作结束时间"},null,8,["modelValue"]),r(p,{modelValue:t.value.workDays,"onUpdate:modelValue":a[3]||(a[3]=e=>t.value.workDays=e),placeholder:"每周工作天数"},{default:V((()=>[(n(!0),u(d,null,x(m(l),(e=>(n(),u(g,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),r(w,{modelValue:t.value.monthMoney,"onUpdate:modelValue":a[4]||(a[4]=e=>t.value.monthMoney=e),placeholder:"月薪（元）"},null,8,["modelValue"]),r(h,{type:"primary",onClick:c},{default:V((()=>[W])),_:1})],512),[[D,m(o).showView]])],64)}}},z={feactureNum:""};var A=M({state:()=>z,mutations:{increment(e,t){e.feactureNum=t}},actions:{increment(e,t){e.commit("increment",t)}},getters:{double:e=>2*e.count}});b(O).use(S).use(A).mount("#app");
